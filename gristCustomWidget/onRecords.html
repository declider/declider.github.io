<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>onRecords</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://docs.getgrist.com/grist-plugin-api.js"></script>
  </head>
  <body>
    <div id='rules'>
      <div id='about'>
        Платные подписчики могут делать заказы в Twitch чате, написав свой заказ после нужного знака.<br>
        <div id="s">
          <div id="z">Заказ фильмов - через $<br>Заказ игр - через %</div>
          <div id="e">$Лепрекон 8<br>%Рога и Копыта</div>
        </div>
      </div>
    </div>
    <div id="table"></div>
    <script>
      const table = document.getElementById("table");


      p1 = {
        "Nickname":'Аб',
        "Order":"dashjkh",
        "Time":"00:00 01.02.1203"
      }

      addElement(p1['Nickname'],p1['Order'],p1['Time'])


      function addElement (nicknameValue, orderValue, timeValue) {
        
        console.log(nicknameValue)

        var row = document.createElement("div")
        row.className = "row"

        var card = document.createElement("div")
        card.className = "card"

        var nickname = document.createElement("div");
        nickname.className = "nickname"
        nickname.innerText = nicknameValue
        
        var order = document.createElement("div");
        order.className = "order"
        order.innerText = orderValue
        
        var time = document.createElement("div");
        time.className = "time"
        time.innerText = timeValue

        row.appendChild(nickname)
        row.appendChild(time)
        
        card.appendChild(row)
        card.appendChild(order)

        table.appendChild(card);

      }




      grist.ready();
      grist.onRecords(function(records) {
        var key = records[0]
        var aaa = document.createElement('div')
        aaa.innerText = key
        table.appendChild(aaa)
      })

      
      
    </script>
  </body>
</html>
